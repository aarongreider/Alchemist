<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThreeJS Starter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
</head>

<body id="body">

    <div id="canvasContainer">
        <canvas class="webgl"></canvas>
    </div>



    <script id="vertexShader" type="x-shader/x-vertex">
        varying vec2 vUv;
    
    	void main()	{
    		vUv = uv;
    		//gl_Position = vec4(position, 1.0 );
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
    	}
    </script>

    <script id="vertexParticleShader" type="x-shader/x-vertex">
        varying vec2 vUv;
    	uniform float time;
        varying vec3 vPosition;
        uniform sampler2D positionTexture;
        attribute vec2 reference;
    
    	void main()	{
    		vUv = reference;
            vec3 pos = texture(positionTexture, reference).xyz;
            vec4 mvPosition = modelViewMatrix * vec4( pos, 1. );

            gl_PointSize = 30. * ( 1. / - mvPosition.z );
            gl_Position = projectionMatrix * mvPosition;
    	}
    </script>

    <!-- //particle color shader i think... -->
    <script id="fragmentShaderColor" type="x-shader/x-fragment">

        //uniform float progress;
        //uniform vec2 resolution;
        varying vec2 vUv;
        //varying vec3 vPosition;
        //uniform float PI = 3.14159265359;

			void main()	{

                gl_FragColor = vec4( vUv, 0.0 , 1.0 );

			}
    </script>

    <!-- //particle position shader -->
    <script id="fragmentSimulation" type="x-shader/x-fragment">
        //uniform vec4 resolution;
        /* varying vec2 vUv;
    	uniform float time; */
        uniform sampler2D texturePosition;

			void main()	{

				vec2 uv = gl_FragCoord.xy / resolution.xy;
                //vec2 uv = gl_FragCoord.xy / vec2(1000.,800.).xy;
				vec4 tmpPos = texture2D( texturePosition, uv );
				vec3 position = tmpPos.xyz;
				
                gl_FragColor = vec4( position + vec3(0.0006) , 1. );

			}
    </script>

    <video id="windVideo" loop crossOrigin="anonymous" playsinline style="height: 1px; width: 1px; display:none">
        <source src="/Users/aarongreider/Desktop/CODE/Alchemist/static/wind_wisp2.mp4" type='video/mp4;'>
    </video>

</body>

</html>